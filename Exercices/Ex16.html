<!DOCTYPE html>

<html lang="fr">
<head>
<title>Un petit dessin</title></title>
<meta charset="UTF-8">
<style>
	#grandcadre	{
					position: absolute;
					top: 0px;
					left: 0px;
					border: dotted 2px black; 
					width: 600px;
					height: 450px;
				}
				
	#petitcadre	{
						position: absolute;
						top: 450px;
						left: 600px;
						border: solid 2px black;
						width: 200px;
						height: 150px;
					}
				
	.point	{
					position: absolute;
					width: 3px;
					height: 3px;
					background-color: blue;
				}
</style>
<script>

	function Init()
		{

			gdCadre=document.getElementById("grandcadre");
			ptCadre=document.getElementById("petitcadre");
			
			dessin=false;
			
			if (ptCadre.addEventListener) // le if est facultatif, 
            //par exemple pour internet explorer 6, 
            // on test si la fonction addEventListener est supporté, 
            // sinon, il n'execute pas et il n'y
            // donc pas d'erreur
                ptCadre.addEventListener("mousemove", dessine, false);
			
			if (ptCadre.addEventListener) // le if est facultatif, 
            //par exemple pour internet explorer 6, 
            // on test si la fonction addEventListener est supporté, 
            // sinon, il n'execute pas et il n'y
            // donc pas d'erreur
                ptCadre.addEventListener("click", crayon, false); // le dernier parametre 
                //est tjs en false
			
		}
		
	function crayon(evenement)
		{
			dessin=!dessin; // si on clique/reclique, 
            //dessin sera ON/OFF et la fonction dessine fonctionnera ou non
		}
		
	function dessine(evenement)
		{
			if (dessin)
				{
					var newdiv=document.createElement("div");
					gdCadre.appendChild(newdiv);
					newdiv.style.left=(evenement.clientX-600)*3+"px"; // px car notre css est en px
					newdiv.style.top=(evenement.clientY-450)*3+"px";
					newdiv.classList.add("point"); // point est absolute en css
				}
		}
	
</script>

</head>
<body onload="Init()">

<div id="grandcadre"><p id="info"></p></div>
<div id="petitcadre"></div>

</body>
</html>
